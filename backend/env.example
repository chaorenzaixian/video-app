# ========================================
# VOD Platform 环境配置
# 复制此文件为 .env 并修改配置
# ========================================

# 应用配置
APP_NAME=VOD Platform
DEBUG=True
ENVIRONMENT=development  # development / staging / production

# 安全密钥（生产环境必须修改！）
# 生成方式: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=
JWT_SECRET_KEY=

# CORS 配置（多个域名用逗号分隔，* 表示允许所有）
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# 数据库配置
# SQLite (开发): sqlite+aiosqlite:///./app.db
# PostgreSQL (生产): postgresql+asyncpg://user:pass@localhost:5432/vod_platform
DATABASE_URL=sqlite+aiosqlite:///./app.db

# Redis 配置
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=True

# API 限流
RATE_LIMIT_ENABLED=True
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_REGISTER=3/minute
RATE_LIMIT_DEFAULT=60/minute

# JWT 配置
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# FFmpeg 路径
FFMPEG_PATH=ffmpeg

# ========================================
# 支付配置
# ========================================

# Stripe (国际支付)
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# 支付宝
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_NOTIFY_URL=https://yourdomain.com/api/v1/payments/alipay/notify
ALIPAY_RETURN_URL=https://yourdomain.com/payment/success
ALIPAY_SANDBOX=True

# 微信支付
WECHAT_APP_ID=
WECHAT_MCH_ID=
WECHAT_API_KEY=
WECHAT_CERT_PATH=
WECHAT_KEY_PATH=
WECHAT_NOTIFY_URL=https://yourdomain.com/api/v1/payments/wechat/notify

# ========================================
# 易支付配置（彩虹易支付/通用易支付）
# ========================================
# 易支付网关地址（不带末尾斜杠）
EPAY_URL=https://pay.example.com
# 商户ID
EPAY_PID=1001
# 商户密钥
EPAY_KEY=your_epay_key_here
# 异步通知地址
EPAY_NOTIFY_URL=https://yourdomain.com/api/v1/payments/epay/notify
# 同步跳转地址
EPAY_RETURN_URL=https://yourdomain.com/payment/success

# ========================================
# VIP 价格配置（单位：分）
# ========================================
VIP_PRICE_MONTHLY=2900
VIP_PRICE_QUARTERLY=7900
VIP_PRICE_YEARLY=19900
VIP_PRICE_LIFETIME=49900

# 邀请奖励
INVITE_REWARD_DAYS=7

# ========================================
# 可选服务
# ========================================

# OpenAI (视频 AI 分析)
OPENAI_API_KEY=

# 邮件服务 (SMTP)
SMTP_HOST=smtp.qq.com
SMTP_PORT=465
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_SSL=True
EMAIL_FROM_NAME=VOD平台
EMAIL_FROM_EMAIL=

# 监控
PROMETHEUS_PORT=9090

# ========================================
# Cloudflare R2 对象存储配置
# 免流量费，适合视频/图片托管
# ========================================
# R2 账户ID（在Cloudflare Dashboard右侧可见）
R2_ACCOUNT_ID=
# R2 API 访问密钥
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
# 存储桶名称
R2_BUCKET_NAME=video-app-assets
# 公开访问域名（绑定自定义域名后填写，如 https://cdn.yourdomain.com）
R2_PUBLIC_URL=
