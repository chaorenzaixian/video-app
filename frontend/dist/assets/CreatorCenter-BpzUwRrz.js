import{r as a,c as s,j as e,y as l,C as t,I as i,aD as c,K as n,L as r,H as v,M as u,aa as o,U as d,aC as p,z as h}from"./vue-vendor-Ba_vealp.js";import{_ as m}from"./ic_back-BPdSG6fy.js";import{_ as g}from"./no_data-CMy5glMK.js";import{c as b,_ as k,a as y,b as C}from"./publish_img_text-DofjLvxr.js";import{_,a as w}from"./index-C3P4JTuA.js";import"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const j={class:"creator-center-page"},f={class:"page-header"},z={key:0,class:"not-vip-notice"},x={key:1,class:"earnings-card"},V={class:"earnings-content"},A={class:"earnings-item"},M={class:"value"},I={class:"earnings-item"},B={class:"value"},L={key:2,class:"tabs"},P={key:3,class:"content-area"},$={key:0,class:"loading-state"},H={key:1,class:"video-list"},D=["onClick"],K={class:"video-cover"},U=["src","alt"],q={key:0,class:"status-tag rejected"},E={key:1,class:"status-tag pending"},F={class:"video-info"},G={class:"video-title"},J={class:"video-stats"},N={key:0,class:"reject-reason"},O={key:2,class:"empty-state"},Q={class:"modal-content"},R={class:"publish-options"},S=_({__name:"CreatorCenter",setup(_){const S=p(),T=a("published"),W=a(0),X=a(0),Y=a(!1),Z=a(!0),aa=a(!1),sa=a([]),ea=a([]),la=a([]),ta=s(()=>{switch(T.value){case"published":return sa.value;case"pending":return ea.value;case"rejected":return la.value;default:return[]}}),ia=()=>{S.push("/user/withdraw?type=creator")},ca=()=>{S.push("/user/earnings-detail")},na=a=>{switch(aa.value=!1,a){case"image":S.push("/user/publish/image");break;case"video":S.push("/user/publish/video");break;case"article":S.push("/user/publish/text-image")}};return e(()=>{(async()=>{var a,s,e,l;Z.value=!0;try{const a=await w.get("/creator/dashboard");a.data&&(Y.value=!0,W.value=a.data.available_coins||0,X.value=a.data.total_coins_earned||0)}catch(t){404===(null==(a=t.response)?void 0:a.status)&&(Y.value=!1)}try{const a=await w.get("/creator/videos",{params:{status:"approved"}});a.data&&(sa.value=Array.isArray(a.data)?a.data:[])}catch(t){null==(s=t.response)||s.status}try{const a=await w.get("/creator/videos",{params:{status:"pending"}});a.data&&(ea.value=Array.isArray(a.data)?a.data:[])}catch(t){null==(e=t.response)||e.status}try{const a=await w.get("/creator/videos",{params:{status:"rejected"}});a.data&&(la.value=Array.isArray(a.data)?a.data:[])}catch(t){null==(l=t.response)||l.status}Z.value=!1})()}),(a,s)=>(h(),l("div",j,[t("header",f,[t("div",{class:"back-btn",onClick:s[0]||(s[0]=s=>a.$router.back())},[...s[10]||(s[10]=[t("img",{src:m,alt:"返回",class:"back-icon"},null,-1)])]),s[11]||(s[11]=t("h1",{class:"page-title"},"创作中心",-1)),s[12]||(s[12]=t("div",{class:"header-right"},null,-1))]),Z.value||Y.value?i("",!0):(h(),l("div",z,[s[14]||(s[14]=c('<div class="notice-icon" data-v-8935b09a><svg viewBox="0 0 24 24" width="48" height="48" fill="#ffd700" data-v-8935b09a><path d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1 15h2v2h-2v-2zm0-8h2v6h-2V9z" data-v-8935b09a></path></svg></div><h3 class="notice-title" data-v-8935b09a>开通VIP成为创作者</h3><p class="notice-desc" data-v-8935b09a>VIP用户可享受创作者权益，上传视频赚取收益</p>',3)),t("button",{class:"vip-btn",onClick:s[1]||(s[1]=s=>a.$router.push("/user/vip"))},[...s[13]||(s[13]=[t("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},[t("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})],-1),n(" 立即开通VIP ",-1)])])])),Y.value?(h(),l("div",x,[t("div",V,[t("div",A,[s[15]||(s[15]=t("span",{class:"label"},"收益余额",-1)),t("span",M,r(W.value),1),t("button",{class:"action-btn",onClick:ia},"立即提现")]),t("div",I,[s[16]||(s[16]=t("span",{class:"label"},"累计收益",-1)),t("span",B,r(X.value),1),t("button",{class:"action-btn",onClick:ca},"业绩明细")])])])):i("",!0),Y.value?(h(),l("div",L,[t("div",{class:v(["tab-item",{active:"published"===T.value}]),onClick:s[2]||(s[2]=a=>T.value="published")}," 已发布 ",2),t("div",{class:v(["tab-item",{active:"pending"===T.value}]),onClick:s[3]||(s[3]=a=>T.value="pending")}," 待审核 ",2),t("div",{class:v(["tab-item",{active:"rejected"===T.value}]),onClick:s[4]||(s[4]=a=>T.value="rejected")}," 未通过 ",2)])):i("",!0),Y.value?(h(),l("div",P,[Z.value?(h(),l("div",$,[...s[17]||(s[17]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"加载中...",-1)])])):ta.value.length>0?(h(),l("div",H,[(h(!0),l(u,null,o(ta.value,a=>(h(),l("div",{class:"video-item",key:a.id,onClick:s=>(a=>{S.push(`/video/${a.id}`)})(a)},[t("div",K,[t("img",{src:a.cover_url||"/images/default-cover.webp",alt:a.title},null,8,U),"rejected"===a.review_status?(h(),l("span",q,"未通过")):"pending"===a.review_status?(h(),l("span",E,"审核中")):i("",!0)]),t("div",F,[t("h3",G,r(a.title),1),t("div",J,[t("span",null,[s[18]||(s[18]=t("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor"},[t("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})],-1)),n(" "+r(a.view_count||0),1)]),t("span",null,[s[19]||(s[19]=t("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor"},[t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),n(" "+r(a.like_count||0),1)])]),a.reject_reason?(h(),l("p",N,r(a.reject_reason),1)):i("",!0)])],8,D))),128))])):(h(),l("div",O,[...s[20]||(s[20]=[t("img",{src:g,alt:"暂无内容",class:"empty-image"},null,-1),t("p",{class:"empty-text"},"当前页面暂无内容~",-1)])]))])):i("",!0),Y.value?(h(),l("div",{key:4,class:"publish-btn",onClick:s[5]||(s[5]=a=>aa.value=!0)},[...s[21]||(s[21]=[t("img",{src:b,alt:"发布"},null,-1)])])):i("",!0),aa.value?(h(),l("div",{key:5,class:"publish-modal",onClick:s[9]||(s[9]=d(a=>aa.value=!1,["self"]))},[t("div",Q,[s[25]||(s[25]=t("div",{class:"modal-handle"},null,-1)),s[26]||(s[26]=t("h3",{class:"modal-title"},"选择发布类型",-1)),t("div",R,[t("div",{class:"publish-option",onClick:s[6]||(s[6]=a=>na("image"))},[...s[22]||(s[22]=[t("img",{src:k,alt:"图片"},null,-1),t("span",null,"图片",-1)])]),t("div",{class:"publish-option",onClick:s[7]||(s[7]=a=>na("video"))},[...s[23]||(s[23]=[t("img",{src:y,alt:"视频"},null,-1),t("span",null,"视频",-1)])]),t("div",{class:"publish-option",onClick:s[8]||(s[8]=a=>na("article"))},[...s[24]||(s[24]=[t("img",{src:C,alt:"图文"},null,-1),t("span",null,"图文",-1)])])])])])):i("",!0)]))}},[["__scopeId","data-v-8935b09a"]]);export{S as default};
