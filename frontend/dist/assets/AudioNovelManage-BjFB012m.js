/* empty css             *//* empty css                   *//* empty css                 *//* empty css                 *//* empty css                        *//* empty css                   *//* empty css                     *//* empty css                  *//* empty css                  *//* empty css                    *//* empty css               *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                 *//* empty css                        *//* empty css                *//* empty css                  */import{r as e,l,c as a,j as t,y as o,O as u,F as i,z as d,C as s,M as r,aa as n,E as c,ae as p,K as m,u as v,G as _,L as f,I as h,J as g}from"./vue-vendor-Ba_vealp.js";import{be as y,bk as b,E as w,bl as V,bm as k,aT as U,aM as j,aQ as C,a6 as x,bh as z,bi as $,bn as M,bj as R,bs as L,bt as S,aR as O,bc as q,bd as I,aS as A,bw as B,bo as E,bv as F,bM as K,aF as G,a as J}from"./element-plus-DlIn_qXi.js";import{_ as N,a as P}from"./index-C3P4JTuA.js";import"./utils-DflAyOWx.js";const Q={class:"audio-novel-manage"},T={class:"toolbar"},H={class:"filters"},W={class:"actions"},Z={class:"novel-cell"},D={class:"title"},X={class:"meta"},Y={class:"chapter-info"},ee={class:"stats-cell"},le={class:"cover-upload-area"},ae={key:1,class:"cover-placeholder"},te={class:"audio-manager"},oe={class:"manager-toolbar"},ue={key:0,class:"audio-cell"},ie=["src"],de={class:"manager-footer"},se={key:0,class:"batch-results"},re=N({__name:"AudioNovelManage",setup(N){const re=e(!1),ne=e(!1),ce=e([]),pe=e([]),me=e([]),ve=e(null),_e=l({category_id:"",status:"",keyword:""}),fe=l({page:1,pageSize:20,total:0}),he=e(!1),ge=e(!1),ye=e(!1),be=e(!1),we=e(!1),Ve=l({id:null,title:"",author:"",cover:"",description:"",category_id:null,status:"ongoing",is_hot:!1,is_recommended:!1,novel_type:"audio"}),ke=l({chapter_num:1,title:"",audio_url:"",is_free:!0}),Ue=l({id:null,chapter_num:1,title:"",audio_url:"",is_free:!0}),je=e(null),Ce=e(!1),xe=e([]),ze=a(()=>"/api/upload/image"),$e=a(()=>"/api/upload/file"),Me=a(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`})),Re=async()=>{var e,l;re.value=!0;try{const a={page:fe.page,page_size:fe.pageSize,novel_type:"audio",..._e},t=await P.get("/admin/gallery-novel/novels",{params:a});ce.value=(null==(e=t.data)?void 0:e.items)||[],fe.total=(null==(l=t.data)?void 0:l.total)||0}catch(a){w.error("åŠ è½½å¤±è´¥")}finally{re.value=!1}},Le=()=>{Object.assign(Ve,{id:null,title:"",author:"",cover:"",description:"",category_id:null,status:"ongoing",is_hot:!1,is_recommended:!1,novel_type:"audio"}),he.value=!0},Se=async()=>{var e,l;if(Ve.title){ne.value=!0;try{Ve.id?(await P.put(`/admin/gallery-novel/novel/${Ve.id}`,Ve),w.success("æ›´æ–°æˆåŠŸ")):(await P.post("/admin/gallery-novel/novel",Ve),w.success("æ·»åŠ æˆåŠŸ")),he.value=!1,Re()}catch(a){w.error((null==(l=null==(e=a.response)?void 0:e.data)?void 0:l.detail)||"ä¿å­˜å¤±è´¥")}finally{ne.value=!1}}else w.warning("è¯·è¾“å…¥æ ‡é¢˜")},Oe=async e=>{try{const l=await P.get(`/admin/gallery-novel/novel/${e}/chapters`);me.value=l.data||[]}catch(l){w.error("åŠ è½½ç« èŠ‚å¤±è´¥")}},qe=()=>{const e=me.value.length>0?Math.max(...me.value.map(e=>e.chapter_num)):0;Object.assign(ke,{chapter_num:e+1,title:"",audio_url:"",is_free:!0}),ye.value=!0},Ie=async()=>{if(ke.title){ne.value=!0;try{await P.post(`/admin/gallery-novel/novel/${ve.value.id}/chapter`,{...ke,content:""}),w.success("æ·»åŠ æˆåŠŸ"),ye.value=!1,Oe(ve.value.id)}catch(e){w.error("æ·»åŠ å¤±è´¥")}finally{ne.value=!1}}else w.warning("è¯·è¾“å…¥ç« èŠ‚æ ‡é¢˜")},Ae=async()=>{if(Ue.title){ne.value=!0;try{await P.put(`/admin/gallery-novel/chapter/${Ue.id}`,Ue),w.success("æ›´æ–°æˆåŠŸ"),be.value=!1,Oe(ve.value.id)}catch(e){w.error("æ›´æ–°å¤±è´¥")}finally{ne.value=!0}}else w.warning("è¯·è¾“å…¥ç« èŠ‚æ ‡é¢˜")},Be=e=>{e.url&&(Ve.cover=e.url)},Ee=e=>{const l=e.type.startsWith("image/"),a=e.size/1024/1024<5;return l?!!a||(w.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MB"),!1):(w.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"),!1)},Fe=e=>{const l=["audio/mpeg","audio/wav","audio/ogg","audio/mp4","audio/x-m4a"].includes(e.type)||/\.(mp3|wav|ogg|m4a)$/i.test(e.name),a=e.size/1024/1024<100;return l?!!a||(w.error("éŸ³é¢‘å¤§å°ä¸èƒ½è¶…è¿‡100MB"),!1):(w.error("åªèƒ½ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶"),!1)},Ke=()=>{xe.value=[],we.value=!0},Ge=async(e,l)=>{if(!e.url)return void xe.value.push({filename:l.name,success:!1,message:"ä¸Šä¼ å¤±è´¥"});const a=Je(l.name);if(!a)return void xe.value.push({filename:l.name,success:!1,message:"æ— æ³•è¯†åˆ«ç« èŠ‚å·"});const t=me.value.find(e=>e.chapter_num===a);if(t)try{await P.put(`/admin/gallery-novel/chapter/${t.id}`,{audio_url:e.url}),t.audio_url=e.url,xe.value.push({filename:l.name,success:!0,message:`å·²å…³è”åˆ°ç¬¬${a}ç« `})}catch(o){xe.value.push({filename:l.name,success:!1,message:"ä¿å­˜å¤±è´¥"})}else xe.value.push({filename:l.name,success:!1,message:`æœªæ‰¾åˆ°ç¬¬${a}ç« `})},Je=e=>{const l=[/ç¬¬(\d+)ç« /,/chapter[_\-]?(\d+)/i,/^(\d+)\./,/^(\d{2,3})[_\-]/,/[_\-](\d+)\./];for(const a of l){const l=e.match(a);if(l)return parseInt(l[1])}return null},Ne=()=>{var e;Ce.value=!0,null==(e=je.value)||e.submit(),setTimeout(()=>{Ce.value=!1},1e3)};return t(()=>{(async()=>{try{const e=await P.get("/admin/gallery-novel/categories",{params:{type:"novel"}});pe.value=e.data||[]}catch(e){}})(),Re()}),(e,l)=>{var a;const t=k,N=V,Je=U,Pe=j,Qe=C,Te=y,He=M,We=$,Ze=R,De=z,Xe=S,Ye=A,el=I,ll=q,al=B,tl=E,ol=O,ul=b,il=F,dl=K,sl=L;return d(),o("div",Q,[u(Te,{shadow:"never",class:"toolbar-card"},{default:i(()=>[s("div",T,[s("div",H,[u(N,{modelValue:_e.category_id,"onUpdate:modelValue":l[0]||(l[0]=e=>_e.category_id=e),placeholder:"é€‰æ‹©åˆ†ç±»",clearable:"",style:{width:"150px"}},{default:i(()=>[(d(!0),o(r,null,n(pe.value,e=>(d(),c(t,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(N,{modelValue:_e.status,"onUpdate:modelValue":l[1]||(l[1]=e=>_e.status=e),placeholder:"çŠ¶æ€",clearable:"",style:{width:"100px"}},{default:i(()=>[u(t,{label:"è¿žè½½ä¸­",value:"ongoing"}),u(t,{label:"å·²å®Œç»“",value:"completed"})]),_:1},8,["modelValue"]),u(Je,{modelValue:_e.keyword,"onUpdate:modelValue":l[2]||(l[2]=e=>_e.keyword=e),placeholder:"æœç´¢æ ‡é¢˜",clearable:"",style:{width:"180px"},onKeyup:p(Re,["enter"])},null,8,["modelValue"]),u(Pe,{type:"primary",onClick:Re},{default:i(()=>[...l[30]||(l[30]=[m("æœç´¢",-1)])]),_:1})]),s("div",W,[u(Pe,{type:"primary",onClick:Le},{default:i(()=>[u(Qe,null,{default:i(()=>[u(v(x))]),_:1}),l[31]||(l[31]=m("æ·»åŠ æœ‰å£°å°è¯´ ",-1))]),_:1})])])]),_:1}),u(Te,{shadow:"never"},{default:i(()=>[_((d(),c(De,{data:ce.value},{default:i(()=>[u(We,{label:"å°é¢",width:"80"},{default:i(({row:e})=>[u(He,{src:e.cover,style:{width:"50px",height:"70px"},fit:"cover"},null,8,["src"])]),_:1}),u(We,{label:"å°è¯´ä¿¡æ¯","min-width":"200"},{default:i(({row:e})=>[s("div",Z,[s("div",D,f(e.title),1),s("div",X,[s("span",null,"ä½œè€…: "+f(e.author||"ä½šå"),1),s("span",null,"åˆ†ç±»: "+f(e.category_name||"æœªåˆ†ç±»"),1)])])]),_:1}),u(We,{label:"ç« èŠ‚/éŸ³é¢‘",width:"150"},{default:i(({row:e})=>[s("div",Y,[s("span",null,f(e.chapter_count)+"ç« ",1),u(Ze,{type:e.audio_count===e.chapter_count?"success":"warning",size:"small"},{default:i(()=>[m(f(e.audio_count||0)+"ä¸ªéŸ³é¢‘ ",1)]),_:2},1032,["type"])])]),_:1}),u(We,{label:"æ•°æ®",width:"120"},{default:i(({row:e})=>[s("div",ee,[s("span",null,"ðŸ‘ "+f(e.view_count||0),1),s("span",null,"â¤ï¸ "+f(e.like_count||0),1)])]),_:1}),u(We,{label:"çŠ¶æ€",width:"100"},{default:i(({row:e})=>[u(Ze,{type:"completed"===e.status?"success":"primary",size:"small"},{default:i(()=>[m(f("completed"===e.status?"å·²å®Œç»“":"è¿žè½½ä¸­"),1)]),_:2},1032,["type"])]),_:1}),u(We,{label:"æ“ä½œ",width:"200",fixed:"right"},{default:i(({row:e})=>[u(Pe,{type:"primary",link:"",size:"small",onClick:l=>(e=>{Object.assign(Ve,{id:e.id,title:e.title,author:e.author,cover:e.cover,description:e.description,category_id:e.category_id,status:e.status,is_hot:e.is_hot,is_recommended:e.is_recommended,novel_type:"audio"}),he.value=!0})(e)},{default:i(()=>[...l[32]||(l[32]=[m("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),u(Pe,{type:"success",link:"",size:"small",onClick:l=>(async e=>{ve.value=e,ge.value=!0,await Oe(e.id)})(e)},{default:i(()=>[...l[33]||(l[33]=[m("éŸ³é¢‘ç®¡ç†",-1)])]),_:1},8,["onClick"]),u(Pe,{type:"danger",link:"",size:"small",onClick:l=>(async e=>{try{await J.confirm(`ç¡®å®šåˆ é™¤ã€Š${e.title}ã€‹ï¼Ÿ`,"æç¤º",{type:"warning"}),await P.delete(`/admin/gallery-novel/novel/${e.id}`),w.success("åˆ é™¤æˆåŠŸ"),Re()}catch(l){"cancel"!==l&&w.error("åˆ é™¤å¤±è´¥")}})(e)},{default:i(()=>[...l[34]||(l[34]=[m("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[sl,re.value]]),u(Xe,{"current-page":fe.page,"onUpdate:currentPage":l[3]||(l[3]=e=>fe.page=e),"page-size":fe.pageSize,"onUpdate:pageSize":l[4]||(l[4]=e=>fe.pageSize=e),total:fe.total,layout:"total, prev, pager, next",onCurrentChange:Re,style:{"margin-top":"16px","justify-content":"flex-end"}},null,8,["current-page","page-size","total"])]),_:1}),u(ul,{modelValue:he.value,"onUpdate:modelValue":l[14]||(l[14]=e=>he.value=e),title:Ve.id?"ç¼–è¾‘æœ‰å£°å°è¯´":"æ·»åŠ æœ‰å£°å°è¯´",width:"650px"},{footer:i(()=>[u(Pe,{onClick:l[13]||(l[13]=e=>he.value=!1)},{default:i(()=>[...l[36]||(l[36]=[m("å–æ¶ˆ",-1)])]),_:1}),u(Pe,{type:"primary",onClick:Se,loading:ne.value},{default:i(()=>[...l[37]||(l[37]=[m("ä¿å­˜",-1)])]),_:1},8,["loading"])]),default:i(()=>[u(ol,{model:Ve,"label-width":"80px"},{default:i(()=>[u(ll,{gutter:20},{default:i(()=>[u(el,{span:12},{default:i(()=>[u(Ye,{label:"æ ‡é¢˜",required:""},{default:i(()=>[u(Je,{modelValue:Ve.title,"onUpdate:modelValue":l[5]||(l[5]=e=>Ve.title=e),placeholder:"å°è¯´æ ‡é¢˜"},null,8,["modelValue"])]),_:1})]),_:1}),u(el,{span:12},{default:i(()=>[u(Ye,{label:"ä½œè€…"},{default:i(()=>[u(Je,{modelValue:Ve.author,"onUpdate:modelValue":l[6]||(l[6]=e=>Ve.author=e),placeholder:"ä½œè€…å"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),u(Ye,{label:"åˆ†ç±»"},{default:i(()=>[u(N,{modelValue:Ve.category_id,"onUpdate:modelValue":l[7]||(l[7]=e=>Ve.category_id=e),placeholder:"é€‰æ‹©åˆ†ç±»",clearable:"",style:{width:"100%"}},{default:i(()=>[(d(!0),o(r,null,n(pe.value,e=>(d(),c(t,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(Ye,{label:"å°é¢",required:""},{default:i(()=>[s("div",le,[u(al,{class:"cover-uploader",action:ze.value,headers:Me.value,data:{subdir:"novel"},"show-file-list":!1,"on-success":Be,"before-upload":Ee,accept:"image/*"},{default:i(()=>[Ve.cover?(d(),c(He,{key:0,src:Ve.cover,class:"cover-preview",fit:"cover"},null,8,["src"])):(d(),o("div",ae,[u(Qe,null,{default:i(()=>[u(v(x))]),_:1}),l[35]||(l[35]=s("span",null,"ä¸Šä¼ å°é¢",-1))]))]),_:1},8,["action","headers"]),u(Je,{modelValue:Ve.cover,"onUpdate:modelValue":l[8]||(l[8]=e=>Ve.cover=e),placeholder:"æˆ–è¾“å…¥å°é¢URL",style:{"margin-top":"8px"}},null,8,["modelValue"])])]),_:1}),u(ll,{gutter:20},{default:i(()=>[u(el,{span:12},{default:i(()=>[u(Ye,{label:"çŠ¶æ€"},{default:i(()=>[u(N,{modelValue:Ve.status,"onUpdate:modelValue":l[9]||(l[9]=e=>Ve.status=e),style:{width:"100%"}},{default:i(()=>[u(t,{label:"è¿žè½½ä¸­",value:"ongoing"}),u(t,{label:"å·²å®Œç»“",value:"completed"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(el,{span:6},{default:i(()=>[u(Ye,{label:"çƒ­é—¨"},{default:i(()=>[u(tl,{modelValue:Ve.is_hot,"onUpdate:modelValue":l[10]||(l[10]=e=>Ve.is_hot=e)},null,8,["modelValue"])]),_:1})]),_:1}),u(el,{span:6},{default:i(()=>[u(Ye,{label:"æŽ¨è"},{default:i(()=>[u(tl,{modelValue:Ve.is_recommended,"onUpdate:modelValue":l[11]||(l[11]=e=>Ve.is_recommended=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),u(Ye,{label:"ç®€ä»‹"},{default:i(()=>[u(Je,{modelValue:Ve.description,"onUpdate:modelValue":l[12]||(l[12]=e=>Ve.description=e),type:"textarea",rows:3,placeholder:"å°è¯´ç®€ä»‹"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),u(ul,{modelValue:ge.value,"onUpdate:modelValue":l[15]||(l[15]=e=>ge.value=e),title:"éŸ³é¢‘ç®¡ç† - "+(null==(a=ve.value)?void 0:a.title),width:"900px"},{default:i(()=>[s("div",te,[s("div",oe,[u(Pe,{type:"primary",size:"small",onClick:qe},{default:i(()=>[u(Qe,null,{default:i(()=>[u(v(x))]),_:1}),l[38]||(l[38]=m("æ·»åŠ ç« èŠ‚ ",-1))]),_:1}),u(Pe,{size:"small",onClick:Ke},{default:i(()=>[...l[39]||(l[39]=[m("æ‰¹é‡ä¸Šä¼ éŸ³é¢‘",-1)])]),_:1})]),u(De,{data:me.value,size:"small","max-height":"400"},{default:i(()=>[u(We,{prop:"chapter_num",label:"ç« èŠ‚",width:"70"}),u(We,{prop:"title",label:"æ ‡é¢˜","min-width":"150"}),u(We,{label:"éŸ³é¢‘",width:"200"},{default:i(({row:e})=>[e.audio_url?(d(),o("div",ue,[s("audio",{src:e.audio_url,controls:"",style:{height:"30px",width:"150px"}},null,8,ie)])):(d(),c(Ze,{key:1,type:"info",size:"small"},{default:i(()=>[...l[40]||(l[40]=[m("æœªä¸Šä¼ ",-1)])]),_:1}))]),_:1}),u(We,{label:"å…è´¹",width:"70"},{default:i(({row:e})=>[u(tl,{modelValue:e.is_free,"onUpdate:modelValue":l=>e.is_free=l,size:"small",onChange:l=>(async e=>{try{await P.put(`/admin/gallery-novel/chapter/${e.id}`,{is_free:e.is_free})}catch(l){w.error("æ›´æ–°å¤±è´¥")}})(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),u(We,{label:"æ“ä½œ",width:"180"},{default:i(({row:e})=>[u(al,{action:$e.value,headers:Me.value,"show-file-list":!1,"on-success":l=>(async(e,l)=>{if(e.url)try{await P.put(`/admin/gallery-novel/chapter/${l.id}`,{audio_url:e.url}),l.audio_url=e.url,w.success("éŸ³é¢‘ä¸Šä¼ æˆåŠŸ")}catch(a){w.error("ä¿å­˜éŸ³é¢‘URLå¤±è´¥")}})(l,e),"before-upload":Fe,accept:".mp3,.wav,.ogg,.m4a",style:{display:"inline-block"}},{default:i(()=>[u(Pe,{type:"primary",link:"",size:"small"},{default:i(()=>[m(f(e.audio_url?"æ›´æ¢éŸ³é¢‘":"ä¸Šä¼ éŸ³é¢‘"),1)]),_:2},1024)]),_:2},1032,["action","headers","on-success"]),u(Pe,{type:"primary",link:"",size:"small",onClick:l=>(e=>{Object.assign(Ue,{id:e.id,chapter_num:e.chapter_num,title:e.title,audio_url:e.audio_url||"",is_free:e.is_free}),be.value=!0})(e)},{default:i(()=>[...l[41]||(l[41]=[m("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),u(Pe,{type:"danger",link:"",size:"small",onClick:l=>(async e=>{try{await J.confirm(`ç¡®å®šåˆ é™¤ç« èŠ‚"${e.title}"ï¼Ÿ`,"æç¤º",{type:"warning"}),await P.delete(`/admin/gallery-novel/chapter/${e.id}`),w.success("åˆ é™¤æˆåŠŸ"),Oe(ve.value.id)}catch(l){"cancel"!==l&&w.error("åˆ é™¤å¤±è´¥")}})(e)},{default:i(()=>[...l[42]||(l[42]=[m("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",de,[s("span",null,"å…± "+f(me.value.length)+" ç« ",1),s("span",null,"å·²ä¸Šä¼ éŸ³é¢‘: "+f(me.value.filter(e=>e.audio_url).length)+" ä¸ª",1)])])]),_:1},8,["modelValue","title"]),u(ul,{modelValue:ye.value,"onUpdate:modelValue":l[21]||(l[21]=e=>ye.value=e),title:"æ·»åŠ ç« èŠ‚",width:"500px"},{footer:i(()=>[u(Pe,{onClick:l[20]||(l[20]=e=>ye.value=!1)},{default:i(()=>[...l[43]||(l[43]=[m("å–æ¶ˆ",-1)])]),_:1}),u(Pe,{type:"primary",onClick:Ie,loading:ne.value},{default:i(()=>[...l[44]||(l[44]=[m("ä¿å­˜",-1)])]),_:1},8,["loading"])]),default:i(()=>[u(ol,{model:ke,"label-width":"80px"},{default:i(()=>[u(Ye,{label:"ç« èŠ‚å·"},{default:i(()=>[u(il,{modelValue:ke.chapter_num,"onUpdate:modelValue":l[16]||(l[16]=e=>ke.chapter_num=e),min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(Ye,{label:"æ ‡é¢˜",required:""},{default:i(()=>[u(Je,{modelValue:ke.title,"onUpdate:modelValue":l[17]||(l[17]=e=>ke.title=e),placeholder:"ç« èŠ‚æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),u(Ye,{label:"éŸ³é¢‘URL"},{default:i(()=>[u(Je,{modelValue:ke.audio_url,"onUpdate:modelValue":l[18]||(l[18]=e=>ke.audio_url=e),placeholder:"éŸ³é¢‘æ–‡ä»¶URLï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1}),u(Ye,{label:"å…è´¹"},{default:i(()=>[u(tl,{modelValue:ke.is_free,"onUpdate:modelValue":l[19]||(l[19]=e=>ke.is_free=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),u(ul,{modelValue:be.value,"onUpdate:modelValue":l[27]||(l[27]=e=>be.value=e),title:"ç¼–è¾‘ç« èŠ‚",width:"500px"},{footer:i(()=>[u(Pe,{onClick:l[26]||(l[26]=e=>be.value=!1)},{default:i(()=>[...l[45]||(l[45]=[m("å–æ¶ˆ",-1)])]),_:1}),u(Pe,{type:"primary",onClick:Ae,loading:ne.value},{default:i(()=>[...l[46]||(l[46]=[m("ä¿å­˜",-1)])]),_:1},8,["loading"])]),default:i(()=>[u(ol,{model:Ue,"label-width":"80px"},{default:i(()=>[u(Ye,{label:"ç« èŠ‚å·"},{default:i(()=>[u(il,{modelValue:Ue.chapter_num,"onUpdate:modelValue":l[22]||(l[22]=e=>Ue.chapter_num=e),min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(Ye,{label:"æ ‡é¢˜",required:""},{default:i(()=>[u(Je,{modelValue:Ue.title,"onUpdate:modelValue":l[23]||(l[23]=e=>Ue.title=e),placeholder:"ç« èŠ‚æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),u(Ye,{label:"éŸ³é¢‘URL"},{default:i(()=>[u(Je,{modelValue:Ue.audio_url,"onUpdate:modelValue":l[24]||(l[24]=e=>Ue.audio_url=e),placeholder:"éŸ³é¢‘æ–‡ä»¶URL"},null,8,["modelValue"])]),_:1}),u(Ye,{label:"å…è´¹"},{default:i(()=>[u(tl,{modelValue:Ue.is_free,"onUpdate:modelValue":l[25]||(l[25]=e=>Ue.is_free=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),u(ul,{modelValue:we.value,"onUpdate:modelValue":l[29]||(l[29]=e=>we.value=e),title:"æ‰¹é‡ä¸Šä¼ éŸ³é¢‘",width:"600px"},{footer:i(()=>[u(Pe,{onClick:l[28]||(l[28]=e=>we.value=!1)},{default:i(()=>[...l[51]||(l[51]=[m("å…³é—­",-1)])]),_:1}),u(Pe,{type:"primary",onClick:Ne,loading:Ce.value},{default:i(()=>[...l[52]||(l[52]=[m("å¼€å§‹ä¸Šä¼ ",-1)])]),_:1},8,["loading"])]),default:i(()=>[u(dl,{type:"info",closable:!1,style:{"margin-bottom":"16px"}},{title:i(()=>[...l[47]||(l[47]=[s("div",null,'ä¸Šä¼ è§„åˆ™ï¼šéŸ³é¢‘æ–‡ä»¶åéœ€åŒ…å«ç« èŠ‚å·ï¼Œå¦‚ "ç¬¬1ç« .mp3"ã€"001.mp3"ã€"chapter_1.mp3"',-1),s("div",null,"ç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…ç« èŠ‚å·å¹¶å…³è”éŸ³é¢‘",-1)])]),_:1}),u(al,{ref_key:"batchUploadRef",ref:je,action:$e.value,headers:Me.value,"on-success":Ge,"before-upload":Fe,accept:".mp3,.wav,.ogg,.m4a",multiple:"","auto-upload":!1,drag:""},{tip:i(()=>[...l[48]||(l[48]=[s("div",{class:"el-upload__tip"},"æ”¯æŒ mp3, wav, ogg, m4a æ ¼å¼",-1)])]),default:i(()=>[u(Qe,{class:"el-icon--upload"},{default:i(()=>[u(v(G))]),_:1}),l[49]||(l[49]=s("div",{class:"el-upload__text"},[m("æ‹–æ‹½éŸ³é¢‘æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–"),s("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["action","headers"]),xe.value.length?(d(),o("div",se,[l[50]||(l[50]=s("div",{class:"result-title"},"ä¸Šä¼ ç»“æžœï¼š",-1)),(d(!0),o(r,null,n(xe.value,(e,l)=>(d(),o("div",{key:l,class:"result-item"},[u(Qe,{color:e.success?"#67c23a":"#f56c6c"},{default:i(()=>[(d(),c(g(e.success?"CircleCheck":"CircleClose")))]),_:2},1032,["color"]),s("span",null,f(e.filename)+" - "+f(e.message),1)]))),128))])):h("",!0)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-515ebe1a"]]);export{re as default};
