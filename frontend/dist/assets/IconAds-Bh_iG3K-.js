/* empty css             *//* empty css                   *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                   *//* empty css                  *//* empty css                  *//* empty css               */import{_ as e,a}from"./index-C3P4JTuA.js";import{be as l,bk as i,bh as t,bi as s,bo as o,aM as d,br as n,bs as r,aQ as u,aR as c,aS as m,aT as p,bv as v,E as g}from"./element-plus-DlIn_qXi.js";import{r as f,c as b,l as _,j as h,y as w,O as y,F as V,ai as k,z as j,G as C,E as U,C as x,V as L,L as R,K as q,M as z,aa as O}from"./vue-vendor-Ba_vealp.js";import"./utils-DflAyOWx.js";const S={class:"icon-ads-page"},$={class:"card-header"},A={class:"header-actions"},E=["src"],F={key:1},G={class:"color-presets"},I=["onClick","title"],M={class:"preview-section"},H={class:"preview-wrapper"},K=["src"],N={key:1,class:"preview-icon"},P={class:"preview-name"},Q=e({__name:"IconAds",setup(e){const Q=f(!1),T=f(!1),B=f(!1),D=f(!1),J=f(!1),W=f([]),X=b(()=>[...W.value].sort((e,a)=>(e.sort_order||0)-(a.sort_order||0))),Y=_({id:null,name:"",icon:"",image:"",bg:"linear-gradient(135deg, #667eea, #764ba2)",link:"",sort_order:1,is_active:!0}),Z=[{name:"çº¢è‰²",value:"linear-gradient(135deg, #ff6b6b, #ee5a24)"},{name:"ç´«è‰²",value:"linear-gradient(135deg, #a55eea, #8854d0)"},{name:"é‡‘è‰²",value:"linear-gradient(135deg, #fed330, #f7b731)"},{name:"è“è‰²",value:"linear-gradient(135deg, #45aaf2, #2d98da)"},{name:"ç²‰è‰²",value:"linear-gradient(135deg, #ff9ff3, #f368e0)"},{name:"é’è‰²",value:"linear-gradient(135deg, #00d2d3, #01a3a4)"},{name:"æ©™è‰²",value:"linear-gradient(135deg, #ffa502, #ff7f50)"},{name:"ç»¿è‰²",value:"linear-gradient(135deg, #43e97b, #38f9d7)"}],ee=async()=>{Q.value=!0;try{const e=await a.get("/ads/icons/admin");W.value=e.data||e||[]}catch(e){W.value=[]}finally{Q.value=!1}},ae=async()=>{var e,l;T.value=!0;try{await a.post("/ads/icons/init"),g.success("åˆå§‹åŒ–æˆåŠŸ"),ee()}catch(i){g.warning((null==(l=null==(e=i.response)?void 0:e.data)?void 0:l.detail)||"åˆå§‹åŒ–å¤±è´¥")}finally{T.value=!1}},le=()=>{J.value=!1,Object.assign(Y,{id:null,name:"",icon:"ğŸ”¥",image:"",bg:"linear-gradient(135deg, #667eea, #764ba2)",link:"",sort_order:W.value.length+1,is_active:!0}),D.value=!0},ie=async()=>{var e,l;if(Y.name){B.value=!0;try{J.value?(await a.put(`/ads/icons/${Y.id}`,Y),g.success("æ›´æ–°æˆåŠŸ")):(await a.post("/ads/icons",Y),g.success("åˆ›å»ºæˆåŠŸ")),D.value=!1,ee()}catch(i){g.error((null==(l=null==(e=i.response)?void 0:e.data)?void 0:l.detail)||"ä¿å­˜å¤±è´¥")}finally{B.value=!1}}else g.warning("è¯·è¾“å…¥åç§°")};return h(()=>{ee()}),(e,f)=>{const b=k("Refresh"),_=u,h=d,W=k("Plus"),te=s,se=o,oe=n,de=t,ne=l,re=p,ue=m,ce=v,me=c,pe=i,ve=r;return j(),w("div",S,[y(ne,null,{header:V(()=>[x("div",$,[f[11]||(f[11]=x("span",null,"å›¾æ ‡å¹¿å‘Šä½ç®¡ç†",-1)),x("div",A,[y(h,{type:"primary",onClick:ae,loading:T.value},{default:V(()=>[y(_,null,{default:V(()=>[y(b)]),_:1}),f[9]||(f[9]=q(" åˆå§‹åŒ–é»˜è®¤æ•°æ® ",-1))]),_:1},8,["loading"]),y(h,{type:"success",onClick:le},{default:V(()=>[y(_,null,{default:V(()=>[y(W)]),_:1}),f[10]||(f[10]=q(" æ–°å¢å¹¿å‘Šä½ ",-1))]),_:1})])])]),default:V(()=>[C((j(),U(de,{data:X.value,stripe:""},{default:V(()=>[y(te,{label:"æ’åº",width:"80",prop:"sort_order",sortable:""}),y(te,{label:"é¢„è§ˆ",width:"100"},{default:V(({row:e})=>[x("div",{class:"ad-preview",style:L({background:e.bg})},[e.image?(j(),w("img",{key:0,src:e.image},null,8,E)):(j(),w("span",F,R(e.icon),1))],4)]),_:1}),y(te,{label:"åç§°",prop:"name",width:"120"}),y(te,{label:"å›¾æ ‡",prop:"icon",width:"80"}),y(te,{label:"è·³è½¬é“¾æ¥",prop:"link","min-width":"200","show-overflow-tooltip":""}),y(te,{label:"ç‚¹å‡»é‡",prop:"click_count",width:"80"}),y(te,{label:"çŠ¶æ€",width:"80"},{default:V(({row:e})=>[y(se,{modelValue:e.is_active,"onUpdate:modelValue":a=>e.is_active=a,onChange:l=>(async e=>{try{await a.put(`/ads/icons/${e.id}`,{is_active:e.is_active}),g.success(e.is_active?"å·²å¯ç”¨":"å·²ç¦ç”¨")}catch(l){e.is_active=!e.is_active,g.error("æ“ä½œå¤±è´¥")}})(e),size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),y(te,{label:"æ“ä½œ",width:"150",fixed:"right"},{default:V(({row:e})=>[y(h,{link:"",type:"primary",onClick:a=>(e=>{J.value=!0,Object.assign(Y,{id:e.id,name:e.name,icon:e.icon||"",image:e.image||"",bg:e.bg,link:e.link||"",sort_order:e.sort_order||1,is_active:!1!==e.is_active}),D.value=!0})(e)},{default:V(()=>[...f[12]||(f[12]=[q("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),y(oe,{title:"ç¡®å®šåˆ é™¤è¿™ä¸ªå¹¿å‘Šä½å—ï¼Ÿ",onConfirm:l=>(async e=>{try{await a.delete(`/ads/icons/${e}`),g.success("åˆ é™¤æˆåŠŸ"),ee()}catch(l){g.error("åˆ é™¤å¤±è´¥")}})(e.id)},{reference:V(()=>[y(h,{link:"",type:"danger"},{default:V(()=>[...f[13]||(f[13]=[q("åˆ é™¤",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[ve,Q.value]])]),_:1}),y(pe,{modelValue:D.value,"onUpdate:modelValue":f[8]||(f[8]=e=>D.value=e),title:J.value?"ç¼–è¾‘å¹¿å‘Šä½":"æ–°å¢å¹¿å‘Šä½",width:"600px"},{footer:V(()=>[y(h,{onClick:f[7]||(f[7]=e=>D.value=!1)},{default:V(()=>[...f[17]||(f[17]=[q("å–æ¶ˆ",-1)])]),_:1}),y(h,{type:"primary",onClick:ie,loading:B.value},{default:V(()=>[...f[18]||(f[18]=[q("ä¿å­˜",-1)])]),_:1},8,["loading"])]),default:V(()=>[y(me,{model:Y,"label-width":"100px"},{default:V(()=>[y(ue,{label:"åç§°",required:""},{default:V(()=>[y(re,{modelValue:Y.name,"onUpdate:modelValue":f[0]||(f[0]=e=>Y.name=e),placeholder:"æ˜¾ç¤ºåœ¨å›¾æ ‡ä¸‹æ–¹"},null,8,["modelValue"])]),_:1}),y(ue,{label:"å›¾æ ‡"},{default:V(()=>[y(re,{modelValue:Y.icon,"onUpdate:modelValue":f[1]||(f[1]=e=>Y.icon=e),placeholder:"emojiå›¾æ ‡ï¼Œå¦‚ ğŸ”¥"},null,8,["modelValue"]),f[14]||(f[14]=x("div",{class:"form-tip"},"æ”¯æŒemojiè¡¨æƒ…ï¼Œå¦‚ï¼šğŸ”¥ ğŸ’Š ğŸ° ğŸŒŠ ğŸ…¿ ğŸ âŒ âš¡ ğŸ€ ğŸ”’",-1))]),_:1}),y(ue,{label:"å›¾ç‰‡URL"},{default:V(()=>[y(re,{modelValue:Y.image,"onUpdate:modelValue":f[2]||(f[2]=e=>Y.image=e),placeholder:"å›¾ç‰‡é“¾æ¥ï¼ˆä¼˜å…ˆäºå›¾æ ‡ï¼‰"},null,8,["modelValue"])]),_:1}),y(ue,{label:"èƒŒæ™¯è‰²",required:""},{default:V(()=>[y(re,{modelValue:Y.bg,"onUpdate:modelValue":f[3]||(f[3]=e=>Y.bg=e),placeholder:"CSSæ¸å˜è‰²"},null,8,["modelValue"]),x("div",G,[(j(),w(z,null,O(Z,e=>x("span",{key:e.value,class:"color-item",style:L({background:e.value}),onClick:a=>Y.bg=e.value,title:e.name},null,12,I)),64))])]),_:1}),y(ue,{label:"è·³è½¬é“¾æ¥"},{default:V(()=>[y(re,{modelValue:Y.link,"onUpdate:modelValue":f[4]||(f[4]=e=>Y.link=e),placeholder:"ç‚¹å‡»è·³è½¬çš„URL"},null,8,["modelValue"])]),_:1}),y(ue,{label:"æ’åº"},{default:V(()=>[y(ce,{modelValue:Y.sort_order,"onUpdate:modelValue":f[5]||(f[5]=e=>Y.sort_order=e),min:1,max:10},null,8,["modelValue"]),f[15]||(f[15]=x("div",{class:"form-tip"},"1-10ï¼Œæ•°å­—è¶Šå°è¶Šé å‰",-1))]),_:1}),y(ue,{label:"çŠ¶æ€"},{default:V(()=>[y(se,{modelValue:Y.is_active,"onUpdate:modelValue":f[6]||(f[6]=e=>Y.is_active=e),"active-text":"å¯ç”¨","inactive-text":"ç¦ç”¨"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),x("div",M,[f[16]||(f[16]=x("div",{class:"preview-title"},"é¢„è§ˆæ•ˆæœ",-1)),x("div",H,[x("div",{class:"ad-preview-large",style:L({background:Y.bg})},[Y.image?(j(),w("img",{key:0,src:Y.image},null,8,K)):(j(),w("span",N,R(Y.icon||"?"),1))],4),x("span",P,R(Y.name||"åç§°"),1)])])]),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-b3203de0"]]);export{Q as default};
