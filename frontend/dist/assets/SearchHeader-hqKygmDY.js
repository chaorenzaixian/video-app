import{r as e,w as r,y as a,C as s,I as t,H as o,G as l,af as c,ae as u,aC as i,az as n,z as d}from"./vue-vendor-Ba_vealp.js";import{_ as h}from"./ic_back-BPdSG6fy.js";import{_ as p}from"./index-C3P4JTuA.js";const v={class:"search-header-wrapper"},y={class:"page-header"},k={class:"header-tabs"},w={key:0,class:"search-box"},m={class:"search-input-wrapper"},g=["placeholder"],f=p({__name:"SearchHeader",props:{currentPage:{type:String,default:"search"},showSearchBox:{type:Boolean,default:!0},keyword:{type:String,default:""},placeholder:{type:String,default:""}},emits:["search","update:keyword"],setup(p,{emit:f}){const S=p,b=f,x=i(),C=n(),_=e(S.keyword);r(()=>S.keyword,e=>{_.value=e}),r(_,e=>{b("update:keyword",e)});const P=()=>{x.push("/user")},B=()=>{if("search"!==S.currentPage&&"result"!==S.currentPage){const e=sessionStorage.getItem("lastSearchKeyword");e?x.push({path:"/user/search-result",query:{keyword:e}}):x.push("/user/search")}},I=()=>{_.value&&_.value.trim()&&sessionStorage.setItem("lastSearchKeyword",_.value.trim()),x.push("/user/video-library")},K=()=>{_.value.trim()&&(sessionStorage.setItem("lastSearchKeyword",_.value.trim()),b("search",_.value.trim()),"/user/search-result"!==C.path&&x.push({path:"/user/search-result",query:{keyword:_.value.trim()}}))},j=()=>{_.value="",b("update:keyword","")};return(e,r)=>(d(),a("div",v,[s("header",y,[s("div",{class:"back-btn",onClick:P},[...r[1]||(r[1]=[s("img",{src:h,alt:"返回",class:"back-icon"},null,-1)])]),s("div",k,[s("div",{class:o(["tab",{active:"search"===p.currentPage||"result"===p.currentPage}]),onClick:B}," 搜一搜 ",2),s("div",{class:o(["tab",{active:"library"===p.currentPage}]),onClick:I}," 视频库 ",2)])]),p.showSearchBox?(d(),a("div",w,[s("div",m,[r[3]||(r[3]=s("div",{class:"search-icon"},[s("svg",{viewBox:"0 0 24 24",fill:"none"},[s("circle",{cx:"10",cy:"10",r:"7",stroke:"currentColor","stroke-width":"2"}),s("line",{x1:"15",y1:"15",x2:"21",y2:"21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)),l(s("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>_.value=e),type:"text",placeholder:p.placeholder,onKeyup:u(K,["enter"])},null,40,g),[[c,_.value]]),_.value?(d(),a("div",{key:0,class:"clear-input",onClick:j},[...r[2]||(r[2]=[s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round"},[s("path",{d:"M6 6l12 12M18 6l-12 12"})],-1)])])):t("",!0),s("button",{class:"search-btn",onClick:K},"搜索")])])):t("",!0)]))}},[["__scopeId","data-v-977fca4f"]]);export{f as S};
