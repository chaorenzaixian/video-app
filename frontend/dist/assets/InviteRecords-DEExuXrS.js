import{_ as a}from"./ic_back-BPdSG6fy.js";import{_ as s}from"./no_data-CMy5glMK.js";import{r as e,j as t,y as r,C as l,I as i,M as c,aa as o,aC as n,z as d,L as v,H as m}from"./vue-vendor-Ba_vealp.js";import{_ as p,a as u}from"./index-C3P4JTuA.js";import{aL as _}from"./element-plus-DlIn_qXi.js";import{r as g}from"./zh-cn-StHTbzJD.js";import"./utils-DflAyOWx.js";const k={class:"records-page"},h={class:"content-area"},y={key:0,class:"empty-state"},b={key:1,class:"records-list"},f={class:"record-avatar"},j=["src"],C={key:1,class:"avatar-placeholder"},x={class:"record-info"},z={class:"record-name"},I={class:"record-time"},w={class:"record-status"},L=p({__name:"InviteRecords",setup(p){_.extend(g),_.locale("zh-cn");const L=n(),A=e([]),H=e(1),M=e(!0),N=async(a=!1)=>{a&&(H.value=1,A.value=[]);try{const a=await u.get("/promotion/invitations",{params:{page:H.value,page_size:20}}),s=a.data||a;s.length<20&&(M.value=!1),A.value=[...A.value,...s]}catch(s){}},R=()=>{H.value++,N()},T=()=>{L.back()},q=()=>{alert("请通过Telegram联系客服")};return t(()=>{N(!0)}),(e,t)=>(d(),r("div",k,[l("header",{class:"page-header"},[l("div",{class:"back-btn",onClick:T},[...t[0]||(t[0]=[l("img",{src:a,alt:"返回",class:"back-icon"},null,-1)])]),t[1]||(t[1]=l("h1",{class:"page-title"},"邀请记录",-1)),l("div",{class:"header-right",onClick:q},"联系客服")]),l("div",h,[0===A.value.length?(d(),r("div",y,[...t[2]||(t[2]=[l("img",{class:"empty-img",src:s,alt:"暂无数据"},null,-1),l("p",{class:"empty-text"},"暂无数据",-1)])])):(d(),r("div",b,[(d(!0),r(c,null,o(A.value,a=>{return d(),r("div",{key:a.id,class:"record-item"},[l("div",f,[a.invitee_avatar?(d(),r("img",{key:0,src:a.invitee_avatar},null,8,j)):(d(),r("span",C,v((a.invitee_username||"用户").charAt(0)),1))]),l("div",x,[l("span",z,v(a.invitee_username||"匿名用户"),1),l("span",I,v((s=a.created_at,_(s).fromNow())),1)]),l("div",w,[l("span",{class:m(["status-tag",a.is_valid?"valid":"invalid"])},v(a.is_valid?"已充值":"未充值"),3)])]);var s}),128)),M.value?(d(),r("div",{key:0,class:"load-more",onClick:R}," 加载更多 ")):i("",!0)]))])]))}},[["__scopeId","data-v-bde6b35b"]]);export{L as default};
