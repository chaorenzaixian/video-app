import{_ as e}from"./ic_back-BPdSG6fy.js";import{r as a,j as s,y as l,C as c,H as t,L as i,I as r,aC as o,z as n}from"./vue-vendor-Ba_vealp.js";import{_ as v,u,a as d}from"./index-C3P4JTuA.js";import{E as p}from"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const m={class:"gender-select-page"},k={class:"page-header"},f={class:"options-list"},b={key:0,class:"check-mark"},h={key:0,class:"check-mark"},g={key:0,class:"check-mark"},C=v({__name:"GenderSelect",setup(v){const C=o(),L=u(),y=a("secret"),_=a(!1),j=async()=>{if(!_.value){_.value=!0;try{await d.put("/users/me",{gender:y.value}),await L.fetchUser(),p.success("性别已更新"),C.back()}catch(e){p.error("更新失败，请重试")}finally{_.value=!1}}};return s(()=>{var e;const a=null==(e=L.user)?void 0:e.gender;y.value="male"===a||"female"===a||"secret"===a?a:"secret"}),(a,s)=>(n(),l("div",m,[c("header",k,[c("div",{class:"back-btn",onClick:s[0]||(s[0]=e=>a.$router.back())},[...s[4]||(s[4]=[c("img",{src:e,alt:"返回",class:"back-icon"},null,-1)])]),s[5]||(s[5]=c("h1",{class:"page-title"},"性别",-1)),c("div",{class:t(["save-btn",{disabled:_.value}]),onClick:j},i(_.value?"保存中...":"保存"),3)]),c("div",f,[c("div",{class:"option-item",onClick:s[1]||(s[1]=e=>y.value="male")},[s[7]||(s[7]=c("span",{class:"option-label"},"男",-1)),"male"===y.value?(n(),l("div",b,[...s[6]||(s[6]=[c("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})],-1)])])):r("",!0)]),c("div",{class:"option-item",onClick:s[2]||(s[2]=e=>y.value="female")},[s[9]||(s[9]=c("span",{class:"option-label"},"女",-1)),"female"===y.value?(n(),l("div",h,[...s[8]||(s[8]=[c("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})],-1)])])):r("",!0)]),c("div",{class:"option-item",onClick:s[3]||(s[3]=e=>y.value="secret")},[s[11]||(s[11]=c("span",{class:"option-label"},"保密",-1)),"secret"===y.value?(n(),l("div",g,[...s[10]||(s[10]=[c("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})],-1)])])):r("",!0)])])]))}},[["__scopeId","data-v-5a3c5d09"]]);export{C as default};
