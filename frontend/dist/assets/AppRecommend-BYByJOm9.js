import{r as a,j as s,y as e,C as n,I as l,H as c,M as i,aa as t,z as o,L as r,U as p}from"./vue-vendor-Ba_vealp.js";import{_ as d}from"./ic_back-BPdSG6fy.js";import{a as m}from"./utils-DflAyOWx.js";import{_ as u}from"./index-C3P4JTuA.js";import{E as v}from"./element-plus-DlIn_qXi.js";const b={class:"app-recommend-page"},k={class:"page-header"},h={class:"header-tabs"},g={class:"content-tabs"},_={key:0,class:"apps-content"},C={key:0,class:"section"},f={class:"app-grid"},y=["onClick"],w={class:"app-icon"},j=["src","alt"],E={class:"app-name"},$={key:1,class:"section"},x={class:"app-list"},I=["onClick"],z={class:"app-icon-large"},A=["src","alt"],H={class:"app-info"},L={class:"app-name"},M={key:0,class:"app-desc"},R=["onClick"],U={key:1,class:"chess-content"},q={class:"section"},B={class:"chess-list"},D=["onClick"],F=["src","alt"],G={class:"chess-name"},J=u({__name:"AppRecommend",setup(u){const J=a("apps"),K=a([]),N=a([]),O=a([]);s(()=>{(async()=>{try{const a=((await m.get("/api/v1/ads/icons")).data||[]).filter(a=>!1!==a.is_active);K.value=a.map(a=>({id:a.id,name:a.name,icon:a.image,url:a.link||"#"})),N.value=a.slice(0,5).map(a=>({id:a.id,name:a.name,icon:a.image,desc:a.description||"",url:a.link||"#"}))}catch(a){}})(),(async()=>{try{const a=(await m.get("/api/v1/home/banners",{params:{position:"chess"}})).data||[];O.value=a.map(a=>({id:a.id,name:a.name,banner:a.image,url:a.link||"#"})),0===O.value.length&&(O.value=[{id:1,name:"美高梅",banner:"/images/backgrounds/chess_banner_1.webp",url:"#"},{id:2,name:"新葡京",banner:"/images/backgrounds/chess_banner_2.webp",url:"#"}])}catch(a){O.value=[{id:1,name:"美高梅",banner:"/images/backgrounds/chess_banner_1.webp",url:"#"},{id:2,name:"新葡京",banner:"/images/backgrounds/chess_banner_2.webp",url:"#"}]}})()});const P=a=>{a.target.src="/images/default-app-icon.webp"},Q=a=>{a.url&&"#"!==a.url?window.open(a.url,"_blank"):v.info("敬请期待")};return(a,s)=>(o(),e("div",b,[n("header",k,[n("div",{class:"back-btn",onClick:s[0]||(s[0]=s=>a.$router.push("/user/profile"))},[...s[7]||(s[7]=[n("img",{src:d,alt:"返回",class:"back-icon"},null,-1)])]),n("nav",h,[n("span",{class:"tab-item",onClick:s[1]||(s[1]=s=>a.$router.push("/user/agent"))},"代理赚钱"),n("span",{class:"tab-item",onClick:s[2]||(s[2]=s=>a.$router.push("/user/tasks"))},"福利任务"),s[8]||(s[8]=n("span",{class:"tab-item active"},"应用推荐",-1))])]),n("div",g,[n("span",{class:c(["tab-item",{active:"apps"===J.value}]),onClick:s[3]||(s[3]=a=>J.value="apps")},"应用",2),n("span",{class:c(["tab-item",{active:"chess"===J.value}]),onClick:s[4]||(s[4]=a=>J.value="chess")},"棋牌",2)]),"apps"===J.value?(o(),e("div",_,[s[11]||(s[11]=n("div",{class:"top-banner"},null,-1)),K.value.length>0?(o(),e("div",C,[s[9]||(s[9]=n("h3",{class:"section-title"},"官方推荐",-1)),n("div",f,[(o(!0),e(i,null,t(K.value,a=>(o(),e("div",{class:"app-item",key:a.id,onClick:s=>Q(a)},[n("div",w,[n("img",{src:a.icon,alt:a.name,onError:s[5]||(s[5]=a=>P(a))},null,40,j)]),n("span",E,r(a.name),1)],8,y))),128))])])):l("",!0),N.value.length>0?(o(),e("div",$,[s[10]||(s[10]=n("h3",{class:"section-title"},"热门应用",-1)),n("div",x,[(o(!0),e(i,null,t(N.value,a=>(o(),e("div",{class:"app-list-item",key:a.id,onClick:s=>Q(a)},[n("div",z,[n("img",{src:a.icon,alt:a.name,onError:s[6]||(s[6]=a=>P(a))},null,40,A)]),n("div",H,[n("span",L,r(a.name),1),a.desc?(o(),e("span",M,r(a.desc),1)):l("",!0)]),n("button",{class:"download-btn",onClick:p(s=>Q(a),["stop"])},"立即下载",8,R)],8,I))),128))])])):l("",!0)])):l("",!0),"chess"===J.value?(o(),e("div",U,[n("div",q,[s[12]||(s[12]=n("h3",{class:"section-title"},"热门推荐",-1)),n("div",B,[(o(!0),e(i,null,t(O.value,a=>(o(),e("div",{class:"chess-item",key:a.id,onClick:s=>Q(a)},[n("img",{src:a.banner,alt:a.name,class:"chess-banner"},null,8,F),n("span",G,r(a.name),1)],8,D))),128))])])])):l("",!0),s[13]||(s[13]=n("div",{class:"bottom-safe"},null,-1))]))}},[["__scopeId","data-v-eed96fdd"]]);export{J as default};
