/* empty css             *//* empty css                   *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                  *//* empty css                    *//* empty css                 *//* empty css                       *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  */import{aM as e,bs as a,bk as l,E as t,bh as i,aQ as o,a6 as s,bi as c,bo as r,aR as u,aS as n,aT as d,bl as p,bm as v,bf as m,by as _,bw as f,bv as g,a as h}from"./element-plus-DlIn_qXi.js";import{_ as b,u as w,a as y}from"./index-C3P4JTuA.js";import{r as V,c as k,j as x,y as C,C as j,O as z,F as q,G as B,E as M,z as U,K as Q,u as T,V as A,J as S,L as G,I as H,M as W,aa as $,H as F,a5 as I}from"./vue-vendor-Ba_vealp.js";import"./utils-DflAyOWx.js";const L={class:"service-manage"},E={class:"page-header"},J={class:"service-card"},K={class:"service-cell"},N=["src"],P={class:"service-info"},O={class:"name"},R={class:"type"},D={class:"icon-upload-area"},X={key:0,class:"uploaded-icon"},Y=["src"],Z={key:1,class:"upload-placeholder"},ee={class:"bg-presets"},ae=["onClick"],le={class:"preview-section"},te={class:"service-preview"},ie=["src"],oe={class:"preview-info"},se={class:"preview-name"},ce={class:"preview-desc"},re=b({__name:"CustomerServiceManage",setup(b){const re=w(),ue=V(!1),ne=V([]),de=V(!1),pe=V(!1),ve=V(!1),me=V(null),_e=V({name:"",service_type:"online",icon_type:"headset",icon_image:"",icon_bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",contact:"",description:"",work_time:"",sort_order:0,is_active:!0}),fe=k(()=>"/api/v1/ads/upload-image"),ge=k(()=>({Authorization:`Bearer ${re.token}`})),he=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #00b4db 0%, #0083b0 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"],be={headset:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"})]),telegram:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.03-1.99 1.27-5.62 3.72-.53.36-1.01.54-1.44.53-.47-.01-1.38-.27-2.06-.49-.83-.27-1.49-.42-1.43-.88.03-.24.37-.49 1.02-.74 3.99-1.74 6.65-2.89 7.99-3.45 3.8-1.6 4.59-1.88 5.1-1.89.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"})]),whatsapp:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})]),qq:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})]),wechat:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 00.167-.054l1.903-1.114a.864.864 0 01.717-.098 10.16 10.16 0 002.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348z"})]),email:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})]),online:()=>I("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:"width: 24px; height: 24px; color: #fff;"},[I("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"})])},we=e=>be[e]||be.headset,ye={online:"åœ¨çº¿å®¢æœ",telegram:"Telegram",whatsapp:"WhatsApp",qq:"QQ",wechat:"å¾®ä¿¡",email:"é‚®ç®±"},Ve=async()=>{ue.value=!0;try{const e=await y.get("/ads/customer-service/admin");ne.value=e.data||e||[]}catch(e){t.error("è·å–å®¢æœåˆ—è¡¨å¤±è´¥")}finally{ue.value=!1}},ke=(e=null)=>{pe.value=!!e,me.value=(null==e?void 0:e.id)||null,_e.value=e?{name:e.name,service_type:e.service_type,icon_type:e.icon_type,icon_image:e.icon_image||"",icon_bg:e.icon_bg,contact:e.contact||"",description:e.description||"",work_time:e.work_time||"",sort_order:e.sort_order,is_active:e.is_active}:{name:"",service_type:"online",icon_type:"headset",icon_image:"",icon_bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",contact:"",description:"",work_time:"",sort_order:0,is_active:!0},de.value=!0},xe=e=>{e.url&&(_e.value.icon_image=e.url,t.success("å›¾æ ‡ä¸Šä¼ æˆåŠŸ"))},Ce=e=>{const a=e.type.startsWith("image/"),l=e.size/1024/1024<2;return a?!!l||(t.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡2MB"),!1):(t.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"),!1)},je=async()=>{if(_e.value.name){ve.value=!0;try{pe.value?(await y.put(`/ads/customer-service/${me.value}`,_e.value),t.success("æ›´æ–°æˆåŠŸ")):(await y.post("/ads/customer-service",_e.value),t.success("æ·»åŠ æˆåŠŸ")),de.value=!1,Ve()}catch(e){t.error("ä¿å­˜å¤±è´¥")}finally{ve.value=!1}}else t.warning("è¯·è¾“å…¥å®¢æœåç§°")};return x(()=>{Ve()}),(b,w)=>{const V=o,k=e,x=c,I=r,re=i,me=d,be=n,ze=v,qe=p,Be=_,Me=m,Ue=f,Qe=g,Te=u,Ae=l,Se=a;return U(),C("div",L,[j("div",E,[w[13]||(w[13]=j("h2",null,"å®¢æœç®¡ç†",-1)),z(k,{type:"primary",onClick:w[0]||(w[0]=e=>ke())},{default:q(()=>[z(V,null,{default:q(()=>[z(T(s))]),_:1}),w[12]||(w[12]=Q(" æ·»åŠ å®¢æœ ",-1))]),_:1})]),j("div",J,[B((U(),M(re,{data:ne.value,style:{width:"100%"}},{default:q(()=>[z(x,{label:"å®¢æœä¿¡æ¯","min-width":"200"},{default:q(({row:e})=>{return[j("div",K,[j("div",{class:"service-icon",style:A({background:e.icon_bg})},["custom"===e.icon_type&&e.icon_image?(U(),C("img",{key:0,src:e.icon_image,class:"custom-icon-img"},null,8,N)):(U(),M(S(we(e.icon_type)),{key:1}))],4),j("div",P,[j("span",O,G(e.name),1),j("span",R,G((a=e.service_type,ye[a]||a)),1)])])];var a}),_:1}),z(x,{label:"è”ç³»æ–¹å¼",prop:"contact","min-width":"180"},{default:q(({row:e})=>[j("span",null,G(e.contact||"-"),1)]),_:1}),z(x,{label:"æè¿°",prop:"description","min-width":"150"},{default:q(({row:e})=>[j("span",null,G(e.description||"-"),1)]),_:1}),z(x,{label:"å·¥ä½œæ—¶é—´",prop:"work_time",width:"140"},{default:q(({row:e})=>[j("span",null,G(e.work_time||"-"),1)]),_:1}),z(x,{label:"çŠ¶æ€",width:"100"},{default:q(({row:e})=>[z(I,{modelValue:e.is_active,"onUpdate:modelValue":a=>e.is_active=a,onChange:a=>(async e=>{try{await y.put(`/ads/customer-service/${e.id}`,{is_active:e.is_active}),t.success(e.is_active?"å·²å¯ç”¨":"å·²ç¦ç”¨")}catch(a){e.is_active=!e.is_active,t.error("æ›´æ–°çŠ¶æ€å¤±è´¥")}})(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),z(x,{label:"æ’åº",prop:"sort_order",width:"80"}),z(x,{label:"ç‚¹å‡»é‡",prop:"click_count",width:"80"}),z(x,{label:"æ“ä½œ",width:"150",fixed:"right"},{default:q(({row:e})=>[z(k,{link:"",type:"primary",onClick:a=>ke(e)},{default:q(()=>[...w[14]||(w[14]=[Q("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),z(k,{link:"",type:"danger",onClick:a=>(async e=>{try{await h.confirm("ç¡®å®šè¦åˆ é™¤è¯¥å®¢æœå—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await y.delete(`/ads/customer-service/${e.id}`),t.success("åˆ é™¤æˆåŠŸ"),Ve()}catch(a){"cancel"!==a&&t.error("åˆ é™¤å¤±è´¥")}})(e)},{default:q(()=>[...w[15]||(w[15]=[Q("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[Se,ue.value]])]),z(Ae,{modelValue:de.value,"onUpdate:modelValue":w[11]||(w[11]=e=>de.value=e),title:pe.value?"ç¼–è¾‘å®¢æœ":"æ·»åŠ å®¢æœ",width:"600px","destroy-on-close":""},{footer:q(()=>[z(k,{onClick:w[10]||(w[10]=e=>de.value=!1)},{default:q(()=>[...w[26]||(w[26]=[Q("å–æ¶ˆ",-1)])]),_:1}),z(k,{type:"primary",onClick:je,loading:ve.value},{default:q(()=>[...w[27]||(w[27]=[Q("ç¡®å®š",-1)])]),_:1},8,["loading"])]),default:q(()=>[z(Te,{model:_e.value,"label-width":"100px"},{default:q(()=>[z(be,{label:"å®¢æœåç§°",required:""},{default:q(()=>[z(me,{modelValue:_e.value.name,"onUpdate:modelValue":w[1]||(w[1]=e=>_e.value.name=e),placeholder:"è¯·è¾“å…¥å®¢æœåç§°"},null,8,["modelValue"])]),_:1}),z(be,{label:"å®¢æœç±»å‹",required:""},{default:q(()=>[z(qe,{modelValue:_e.value.service_type,"onUpdate:modelValue":w[2]||(w[2]=e=>_e.value.service_type=e),style:{width:"100%"}},{default:q(()=>[z(ze,{label:"åœ¨çº¿å®¢æœ",value:"online"}),z(ze,{label:"Telegram",value:"telegram"}),z(ze,{label:"WhatsApp",value:"whatsapp"}),z(ze,{label:"QQ",value:"qq"}),z(ze,{label:"å¾®ä¿¡",value:"wechat"}),z(ze,{label:"é‚®ç®±",value:"email"})]),_:1},8,["modelValue"])]),_:1}),z(be,{label:"è”ç³»æ–¹å¼"},{default:q(()=>{return[z(me,{modelValue:_e.value.contact,"onUpdate:modelValue":w[3]||(w[3]=e=>_e.value.contact=e),placeholder:(e=_e.value.service_type,{online:"åœ¨çº¿å®¢æœé“¾æ¥",telegram:"Telegramç”¨æˆ·åæˆ–é“¾æ¥",whatsapp:"WhatsAppå·ç ",qq:"QQå·ç ",wechat:"å¾®ä¿¡å·",email:"é‚®ç®±åœ°å€"}[e]||"è”ç³»æ–¹å¼")},null,8,["modelValue","placeholder"])];var e}),_:1}),z(be,{label:"æè¿°ä¿¡æ¯"},{default:q(()=>[z(me,{modelValue:_e.value.description,"onUpdate:modelValue":w[4]||(w[4]=e=>_e.value.description=e),placeholder:"å¦‚ï¼š7x24å°æ—¶åœ¨çº¿"},null,8,["modelValue"])]),_:1}),z(be,{label:"å·¥ä½œæ—¶é—´"},{default:q(()=>[z(me,{modelValue:_e.value.work_time,"onUpdate:modelValue":w[5]||(w[5]=e=>_e.value.work_time=e),placeholder:"å¦‚ï¼š09:00 - 22:00"},null,8,["modelValue"])]),_:1}),z(be,{label:"å›¾æ ‡ç±»å‹"},{default:q(()=>[z(Me,{modelValue:_e.value.icon_type,"onUpdate:modelValue":w[6]||(w[6]=e=>_e.value.icon_type=e)},{default:q(()=>[z(Be,{value:"headset"},{default:q(()=>[...w[16]||(w[16]=[Q("ğŸ§ å®¢æœ",-1)])]),_:1}),z(Be,{value:"telegram"},{default:q(()=>[...w[17]||(w[17]=[Q("ğŸ“± Telegram",-1)])]),_:1}),z(Be,{value:"whatsapp"},{default:q(()=>[...w[18]||(w[18]=[Q("ğŸ’¬ WhatsApp",-1)])]),_:1}),z(Be,{value:"qq"},{default:q(()=>[...w[19]||(w[19]=[Q("ğŸ§ QQ",-1)])]),_:1}),z(Be,{value:"wechat"},{default:q(()=>[...w[20]||(w[20]=[Q("ğŸ’š å¾®ä¿¡",-1)])]),_:1}),z(Be,{value:"email"},{default:q(()=>[...w[21]||(w[21]=[Q("ğŸ“§ é‚®ç®±",-1)])]),_:1}),z(Be,{value:"custom"},{default:q(()=>[...w[22]||(w[22]=[Q("ğŸ“· è‡ªå®šä¹‰å›¾ç‰‡",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),"custom"===_e.value.icon_type?(U(),M(be,{key:0,label:"è‡ªå®šä¹‰å›¾æ ‡"},{default:q(()=>[j("div",D,[z(Ue,{action:fe.value,headers:ge.value,"show-file-list":!1,"on-success":xe,"before-upload":Ce,accept:"image/*"},{default:q(()=>[_e.value.icon_image?(U(),C("div",X,[j("img",{src:_e.value.icon_image},null,8,Y)])):(U(),C("div",Z,[z(V,null,{default:q(()=>[z(T(s))]),_:1}),w[23]||(w[23]=j("span",null,"ä¸Šä¼ å›¾æ ‡",-1))]))]),_:1},8,["action","headers"]),w[24]||(w[24]=j("div",{class:"upload-tips"},"å»ºè®®å°ºå¯¸ï¼š100x100ï¼Œæ”¯æŒPNG/JPG/GIF",-1))])]),_:1})):H("",!0),z(be,{label:"å›¾æ ‡èƒŒæ™¯"},{default:q(()=>[j("div",ee,[(U(),C(W,null,$(he,e=>j("div",{key:e,class:F(["bg-preset-item",{active:_e.value.icon_bg===e}]),style:A({background:e}),onClick:a=>_e.value.icon_bg=e},null,14,ae)),64))]),z(me,{modelValue:_e.value.icon_bg,"onUpdate:modelValue":w[7]||(w[7]=e=>_e.value.icon_bg=e),placeholder:"CSSæ¸å˜è‰²",style:{"margin-top":"8px"}},null,8,["modelValue"])]),_:1}),z(be,{label:"æ’åº"},{default:q(()=>[z(Qe,{modelValue:_e.value.sort_order,"onUpdate:modelValue":w[8]||(w[8]=e=>_e.value.sort_order=e),min:0,max:999},null,8,["modelValue"])]),_:1}),z(be,{label:"çŠ¶æ€"},{default:q(()=>[z(I,{modelValue:_e.value.is_active,"onUpdate:modelValue":w[9]||(w[9]=e=>_e.value.is_active=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),j("div",le,[w[25]||(w[25]=j("h4",null,"é¢„è§ˆæ•ˆæœ",-1)),j("div",te,[j("div",{class:"preview-icon",style:A({background:_e.value.icon_bg})},["custom"===_e.value.icon_type&&_e.value.icon_image?(U(),C("img",{key:0,src:_e.value.icon_image,class:"preview-custom-icon"},null,8,ie)):(U(),M(S(we(_e.value.icon_type)),{key:1}))],4),j("div",oe,[j("span",se,G(_e.value.name||"å®¢æœåç§°"),1),j("span",ce,G(_e.value.description||"æè¿°ä¿¡æ¯"),1)])])])]),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-cb8880e1"]]);export{re as default};
