import{r as a,j as s,y as l,C as t,I as e,L as i,U as c,G as o,af as n,aF as u,z as v}from"./vue-vendor-Ba_vealp.js";import{_ as d}from"./ic_back-BPdSG6fy.js";import{_ as r,a as p}from"./index-C3P4JTuA.js";import"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const m={class:"promotion-data-page"},b={class:"page-header"},w={class:"wallet-card"},h={class:"wallet-row"},_={class:"wallet-item"},f={class:"wallet-value"},g={class:"wallet-item"},k={class:"wallet-value"},y={class:"stats-card"},C={class:"stats-row"},j={class:"stat-item"},x={class:"stat-value"},F={class:"stat-item"},U={class:"stat-value"},V={class:"stats-row"},I={class:"stat-item"},$={class:"stat-value"},z={class:"stat-item"},D={class:"stat-value"},G={class:"direct-stats-section"},L={class:"direct-stats-list"},M={class:"direct-stat-row"},P={class:"stat-num"},q={class:"direct-stat-row"},A={class:"stat-num"},B={class:"dialog-content"},E={class:"form-group"},H={class:"form-group"},J={class:"form-group"},K={class:"dialog-buttons"},N=r({__name:"PromotionData",setup(r){const N=a(0),O=a(0),Q=a(0),R=a(0),S=a(0),T=a(0),W=a(0),X=a(0),Y=a(!1),Z=a(""),aa=a("alipay"),sa=a(""),la=async()=>{try{const a=await p.get("/promotion/agent/info"),s=a.data||a;N.value=s.available_balance||0,O.value=s.total_commission||0,Q.value=s.month_commission||0,R.value=s.month_invites||0,S.value=s.today_commission||0,T.value=s.today_invites||0,W.value=s.direct_invites||0,X.value=s.direct_paid_users||0}catch(a){}},ta=async()=>{var a,s;if(!Z.value||Z.value<50)alert("提现金额最低50元");else if(sa.value)try{await p.post("/promotion/withdraw",{amount:parseFloat(Z.value),method:aa.value,account:sa.value}),alert("提现申请已提交，请等待审核"),Y.value=!1,la()}catch(l){alert((null==(s=null==(a=l.response)?void 0:a.data)?void 0:s.detail)||"提现失败")}else alert("请输入收款账号")};return s(()=>{la()}),(a,s)=>(v(),l("div",m,[t("header",b,[t("div",{class:"back-btn",onClick:s[0]||(s[0]=s=>a.$router.back())},[...s[8]||(s[8]=[t("img",{src:d,alt:"返回",class:"back-icon"},null,-1)])]),s[9]||(s[9]=t("h1",{class:"page-title"},"推广数据",-1)),t("div",{class:"header-right",onClick:s[1]||(s[1]=s=>a.$router.push("/user/earnings"))},"收益明细")]),t("div",w,[t("div",h,[t("div",_,[s[10]||(s[10]=t("span",{class:"wallet-label"},"钱包余额",-1)),t("span",f,i(Math.floor(N.value)),1)]),t("div",g,[s[11]||(s[11]=t("span",{class:"wallet-label"},"累积收益",-1)),t("span",k,i(O.value.toFixed(2)),1)])]),t("button",{class:"withdraw-btn",onClick:s[2]||(s[2]=a=>Y.value=!0)},"提现")]),t("div",y,[t("div",C,[t("div",j,[t("span",x,i(Q.value.toFixed(2)),1),s[12]||(s[12]=t("span",{class:"stat-label"},"当月收益(金币)",-1))]),s[14]||(s[14]=t("div",{class:"stat-divider"},null,-1)),t("div",F,[t("span",U,i(R.value),1),s[13]||(s[13]=t("span",{class:"stat-label"},"当月推广数",-1))])]),t("div",V,[t("div",I,[t("span",$,i(S.value.toFixed(2)),1),s[15]||(s[15]=t("span",{class:"stat-label"},"今日收益(金币)",-1))]),s[17]||(s[17]=t("div",{class:"stat-divider"},null,-1)),t("div",z,[t("span",D,i(T.value),1),s[16]||(s[16]=t("span",{class:"stat-label"},"今日推广数",-1))])])]),t("div",G,[s[20]||(s[20]=t("h3",{class:"section-title"},"直推总统计",-1)),t("div",L,[t("div",M,[s[18]||(s[18]=t("span",{class:"stat-name"},"直推用户数",-1)),t("span",P,i(W.value),1)]),t("div",q,[s[19]||(s[19]=t("span",{class:"stat-name"},"直推付费用户",-1)),t("span",A,i(X.value),1)])])]),Y.value?(v(),l("div",{key:0,class:"withdraw-dialog",onClick:s[7]||(s[7]=c(a=>Y.value=!1,["self"]))},[t("div",B,[s[25]||(s[25]=t("h3",null,"申请提现",-1)),t("div",E,[s[21]||(s[21]=t("label",null,"提现金额",-1)),o(t("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=a=>Z.value=a),placeholder:"最低50元起提"},null,512),[[n,Z.value]])]),t("div",H,[s[23]||(s[23]=t("label",null,"收款方式",-1)),o(t("select",{"onUpdate:modelValue":s[4]||(s[4]=a=>aa.value=a)},[...s[22]||(s[22]=[t("option",{value:"alipay"},"支付宝",-1),t("option",{value:"wechat"},"微信",-1),t("option",{value:"bank"},"银行卡",-1)])],512),[[u,aa.value]])]),t("div",J,[s[24]||(s[24]=t("label",null,"收款账号",-1)),o(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=a=>sa.value=a),placeholder:"请输入收款账号"},null,512),[[n,sa.value]])]),t("div",K,[t("button",{class:"btn-cancel",onClick:s[6]||(s[6]=a=>Y.value=!1)},"取消"),t("button",{class:"btn-confirm",onClick:ta},"确认提现")])])])):e("",!0)]))}},[["__scopeId","data-v-fb395c18"]]);export{N as default};
