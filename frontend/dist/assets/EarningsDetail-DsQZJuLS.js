import{_ as a}from"./ic_back-BPdSG6fy.js";import{_ as e}from"./no_data-CMy5glMK.js";import{_ as t,a as s}from"./index-C3P4JTuA.js";import{r as l,c as i,j as n,y as r,C as c,L as v,H as d,M as u,aa as o,z as p}from"./vue-vendor-Ba_vealp.js";import"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const g={class:"earnings-detail-page"},m={class:"page-header"},_={class:"stats-card"},h={class:"stats-item"},y={class:"stats-value"},f={class:"stats-item"},k={class:"stats-value"},b={class:"filter-bar"},C={class:"earnings-list"},j={key:0,class:"loading-state"},w={key:0,viewBox:"0 0 24 24",fill:"currentColor"},M={key:1,viewBox:"0 0 24 24",fill:"currentColor"},S={key:2,viewBox:"0 0 24 24",fill:"currentColor"},x={class:"item-info"},H={class:"item-title"},$={class:"item-desc"},D={class:"item-time"},L={class:"item-amount"},z={class:"amount"},B={key:2,class:"empty-state"},F=t({__name:"EarningsDetail",setup(t){const F=l(!0),Y=l(0),A=l(0),V=l([]),E=l("all"),I=i(()=>"all"===E.value?V.value:V.value.filter(a=>a.earning_type===E.value)),q=a=>{if(!a)return"";const e=new Date(a);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`};return n(async()=>{var a;F.value=!0;try{const a=await s.get("/creator/dashboard");a.data&&(Y.value=a.data.total_coins_earned||0);const e=await s.get("/creator/earnings");if(e.data){V.value=Array.isArray(e.data)?e.data:[];const a=new Date,t=V.value.filter(e=>{const t=new Date(e.created_at);return t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()});A.value=t.reduce((a,e)=>a+(e.net_amount||0),0)}}catch(e){null==(a=e.response)||a.status}finally{F.value=!1}}),(t,s)=>(p(),r("div",g,[c("header",m,[c("div",{class:"back-btn",onClick:s[0]||(s[0]=a=>t.$router.back())},[...s[5]||(s[5]=[c("img",{src:a,alt:"返回",class:"back-icon"},null,-1)])]),s[6]||(s[6]=c("h1",{class:"page-title"},"业绩明细",-1)),s[7]||(s[7]=c("div",{class:"header-right"},null,-1))]),c("div",_,[c("div",h,[s[8]||(s[8]=c("span",{class:"stats-label"},"累计收益(金币)",-1)),c("span",y,v(Y.value),1)]),s[10]||(s[10]=c("div",{class:"stats-divider"},null,-1)),c("div",f,[s[9]||(s[9]=c("span",{class:"stats-label"},"本月收益(金币)",-1)),c("span",k,v(A.value),1)])]),c("div",b,[c("div",{class:d(["filter-item",{active:"all"===E.value}]),onClick:s[1]||(s[1]=a=>E.value="all")},"全部",2),c("div",{class:d(["filter-item",{active:"video_sale"===E.value}]),onClick:s[2]||(s[2]=a=>E.value="video_sale")},"视频销售",2),c("div",{class:d(["filter-item",{active:"tip"===E.value}]),onClick:s[3]||(s[3]=a=>E.value="tip")},"打赏",2),c("div",{class:d(["filter-item",{active:"bonus"===E.value}]),onClick:s[4]||(s[4]=a=>E.value="bonus")},"奖励",2)]),c("div",C,[F.value?(p(),r("div",j,[...s[11]||(s[11]=[c("div",{class:"loading-spinner"},null,-1),c("p",null,"加载中...",-1)])])):I.value.length>0?(p(!0),r(u,{key:1},o(I.value,a=>{return p(),r("div",{class:"earnings-item",key:a.id},[c("div",{class:d(["item-icon",a.earning_type])},["video_sale"===a.earning_type?(p(),r("svg",w,[...s[12]||(s[12]=[c("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"},null,-1)])])):"tip"===a.earning_type?(p(),r("svg",M,[...s[13]||(s[13]=[c("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},null,-1)])])):(p(),r("svg",S,[...s[14]||(s[14]=[c("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2z"},null,-1)])]))],2),c("div",x,[c("div",H,v((e=a.earning_type,{video_sale:"视频销售",tip:"用户打赏",bonus:"平台奖励",referral:"推荐奖励"}[e]||e)),1),c("div",$,v(a.description||"收益入账"),1),c("div",D,v(q(a.created_at)),1)]),c("div",L,[c("span",z,"+"+v(a.net_amount),1),s[15]||(s[15]=c("span",{class:"unit"},"金币",-1))])]);var e}),128)):(p(),r("div",B,[...s[16]||(s[16]=[c("img",{src:e,alt:"暂无数据",class:"empty-image"},null,-1),c("p",{class:"empty-text"},"暂无收益记录",-1)])]))])]))}},[["__scopeId","data-v-e76d54ac"]]);export{F as default};
