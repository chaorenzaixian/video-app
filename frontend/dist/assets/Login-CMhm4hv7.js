/* empty css             *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                    *//* empty css                 */import{r as a,l as e,y as s,C as l,O as r,F as o,U as i,aC as d,az as n,z as t,u,ae as p,K as m}from"./vue-vendor-Ba_vealp.js";import{_ as c,u as f}from"./index-C3P4JTuA.js";import{aQ as g,aR as v,aG as h,aS as _,aT as y,aI as b,as as V,aU as j,aV as w,aM as x,E as z}from"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const U={class:"login-container"},k={class:"login-card"},q={class:"login-header"},C={class:"form-options"},I=c({__name:"Login",setup(c){const I=d(),K=n(),O=f(),R=a(null),S=a(!1),D=a(!1),E=e({username:"",password:""}),F={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},G=async()=>{R.value&&await R.value.validate(async a=>{if(a){S.value=!0;try{await O.login(E),z.success("登录成功");const a=K.query.redirect||"/admin/dashboard";I.push(a)}catch(e){}finally{S.value=!1}}})};return(a,e)=>{const d=g,n=y,c=_,f=j,z=w,I=x,K=v;return t(),s("div",U,[e[9]||(e[9]=l("div",{class:"login-bg"},[l("div",{class:"shape shape-1"}),l("div",{class:"shape shape-2"}),l("div",{class:"shape shape-3"})],-1)),l("div",k,[l("div",q,[r(d,{size:"48",color:"#6366f1"},{default:o(()=>[r(u(h))]),_:1}),e[3]||(e[3]=l("h1",null,"管理后台",-1)),e[4]||(e[4]=l("p",null,"VOD Platform 管理系统",-1))]),r(K,{ref_key:"formRef",ref:R,model:E,rules:F,onSubmit:i(G,["prevent"]),class:"login-form"},{default:o(()=>[r(c,{prop:"username"},{default:o(()=>[r(n,{modelValue:E.username,"onUpdate:modelValue":e[0]||(e[0]=a=>E.username=a),placeholder:"用户名 / 邮箱 / 手机号",size:"large","prefix-icon":u(b)},null,8,["modelValue","prefix-icon"])]),_:1}),r(c,{prop:"password"},{default:o(()=>[r(n,{modelValue:E.password,"onUpdate:modelValue":e[1]||(e[1]=a=>E.password=a),type:"password",placeholder:"密码",size:"large","prefix-icon":u(V),"show-password":"",onKeyup:p(G,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(c,null,{default:o(()=>[l("div",C,[r(f,{modelValue:D.value,"onUpdate:modelValue":e[2]||(e[2]=a=>D.value=a)},{default:o(()=>[...e[5]||(e[5]=[m("记住我",-1)])]),_:1},8,["modelValue"]),r(z,{type:"primary",underline:!1},{default:o(()=>[...e[6]||(e[6]=[m("忘记密码？",-1)])]),_:1})])]),_:1}),r(c,null,{default:o(()=>[r(I,{type:"primary",size:"large",loading:S.value,onClick:G,class:"login-btn"},{default:o(()=>[...e[7]||(e[7]=[m(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[8]||(e[8]=l("div",{class:"login-footer"},[l("p",{class:"admin-notice"},"仅限管理员登录")],-1))])])}}},[["__scopeId","data-v-b813d4bd"]]);export{I as default};
