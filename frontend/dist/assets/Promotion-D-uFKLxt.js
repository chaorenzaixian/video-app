import{_ as a}from"./ic_back-BPdSG6fy.js";import{r as e,a1 as s,j as t,n as l,X as o,y as c,C as i,aD as n,K as r,L as d,aC as u,z as p}from"./vue-vendor-Ba_vealp.js";import{_ as v,a as m}from"./index-C3P4JTuA.js";import"./element-plus-DlIn_qXi.js";import"./utils-DflAyOWx.js";const g={class:"promo-card"},b={class:"card-body"},h={class:"invite-count"},_={class:"count-num"},y={class:"qr-section"},k={class:"qr-code"},w=["src"],C={key:1,class:"qr-placeholder"},f={class:"promo-code"},T={class:"code-text"},x={class:"promo-tip"},j=v({__name:"Promotion",setup(v){const j=u(),q=e(null),I=()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,q.value&&(q.value.scrollTop=0);const a=document.querySelector(".page-header");a&&a.scrollIntoView({behavior:"instant",block:"start"})},P=e(""),V=e(""),z=e("Soul成人版"),A=e("最大原创平台"),E=e("分享好友后使用 手机自带,uc,夸克,火狐,谷歌浏览扫码后复制链接打开,勿用微信QQ扫码。"),L=e({total_invites:0,valid_invites:0,total_reward_days:0,pending_rewards:0}),Q=()=>{alert("请长按二维码图片保存到相册")},R=async()=>{try{await navigator.clipboard.writeText(V.value),alert("推广链接已复制")}catch{const a=document.createElement("input");a.value=V.value,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),alert("推广链接已复制")}},S=()=>{j.back()},D=()=>{j.push("/user/invite-records")},K=()=>{j.push("/user/agent")};return s(()=>{I()}),t(()=>{I(),l(()=>{I()}),setTimeout(I,0),setTimeout(I,50),setTimeout(I,100),setTimeout(I,200),(async()=>{var a,e;try{const s=await m.get("/promotion/invite-code");P.value=(null==(a=s.data)?void 0:a.invite_code)||s.invite_code||"",V.value=(null==(e=s.data)?void 0:e.invite_url)||s.invite_url||""}catch(s){}})(),(async()=>{try{const a=await m.get("/promotion/invite-stats");L.value=a.data||a}catch(a){}})(),(async()=>{try{const a=await m.get("/config/credential");a.data&&(z.value=a.data.site_name||z.value,A.value=a.data.site_slogan||A.value,E.value=a.data.promo_tip||E.value)}catch(a){}})()}),o(()=>{I(),l(I)}),(e,s)=>(p(),c("div",{class:"promotion-page",ref_key:"pageRef",ref:q},[i("header",{class:"page-header"},[i("div",{class:"back-btn",onClick:S},[...s[0]||(s[0]=[i("img",{src:a,alt:"返回",class:"back-icon"},null,-1)])]),s[1]||(s[1]=i("h1",{class:"page-title"},"分享推广",-1)),i("div",{class:"header-right",onClick:D},"邀请记录")]),i("div",g,[s[8]||(s[8]=i("img",{class:"card-bg-img",src:"/images/backgrounds/app_mine_jelly_share_qr_bg-Photoroom.webp",alt:""},null,-1)),i("div",b,[s[5]||(s[5]=i("div",{class:"site-logo"},[i("img",{src:"/images/backgrounds/walfare_logo.webp",alt:"Logo"})],-1)),i("div",h,[s[2]||(s[2]=r(" 累计邀请 ",-1)),i("span",_,d(L.value.total_invites),1),s[3]||(s[3]=r("人 ",-1))]),i("div",y,[i("div",k,[V.value?(p(),c("img",{key:0,src:`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(V.value)}`,alt:"二维码"},null,8,w)):(p(),c("div",C,"加载中..."))])]),i("div",f,[s[4]||(s[4]=r(" 我的推广码",-1)),i("span",T,d(P.value),1)]),i("p",x,d(E.value),1)]),i("div",{class:"action-buttons"},[i("button",{class:"btn-save",onClick:Q},[...s[6]||(s[6]=[i("span",null,"保存图片",-1)])]),i("button",{class:"btn-copy",onClick:R},[...s[7]||(s[7]=[i("span",null,"复制推广链接",-1)])])])]),s[11]||(s[11]=n('<div class="rules-section" data-v-5b77e5e2><h3 class="section-title" data-v-5b77e5e2>规则说明</h3><div class="rules-content" data-v-5b77e5e2><p class="rule-item" data-v-5b77e5e2><span class="rule-num" data-v-5b77e5e2>1.</span>邀请<span class="highlight-blue" data-v-5b77e5e2>1名好友</span>成功注册即可获得<span class="highlight-blue" data-v-5b77e5e2>3天VIP</span></p><p class="rule-item" data-v-5b77e5e2><span class="rule-num" data-v-5b77e5e2>2.</span>邀请好友产生充值可获<span class="highlight-gold" data-v-5b77e5e2>充值最高70%返利收益</span><br data-v-5b77e5e2><span class="rule-example" data-v-5b77e5e2>如:邀请好友A,A充值<span class="highlight-gold" data-v-5b77e5e2>100元年卡VIP</span>,即可获得<span class="highlight-gold" data-v-5b77e5e2>70元收益,可提现!</span></span></p><p class="rule-item" data-v-5b77e5e2><span class="rule-num" data-v-5b77e5e2>3.</span>邀请说明:点击【保存二维码】或【复制推广连接】,获取专属推广链接,推荐分享给他其他人下载即可 </p></div></div>',1)),i("div",{class:"steps-section"},[s[10]||(s[10]=i("img",{class:"steps-img",src:"/images/backgrounds/mine_share_img.webp",alt:"邀请步骤"},null,-1)),i("div",{class:"go-check",onClick:K},[...s[9]||(s[9]=[i("span",{class:"go-text"},"去查看",-1),i("span",{class:"go-arrow"},"»",-1)])])])],512))}},[["__scopeId","data-v-5b77e5e2"]]);export{j as default};
